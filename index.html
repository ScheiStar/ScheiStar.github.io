<html><head><meta content="text/html; charset=UTF-8" http-equiv="content-type"><style type="text/css">@import url('https://themes.googleusercontent.com/fonts/css?kit=sk1yYZPu07KDcv3Z7_jcBpYTsS0HmFvkqB6ookGNhctWgA2Tjcg7d1Mim2OKPZpcVJ9n1Bnpu128IHrOldW6cg');ol{margin:0;padding:0}table td,table th{padding:0}.c2{background-color:#999999;font-size:8pt;font-family:"Courier New";color:#ffffff}.c3{line-height:1.0;orphans:2;widows:2;text-align:justify}.c14{background-color:#999999;font-size:8pt;font-family:"Ubuntu";color:#ffffff}.c21{background-color:#ffffff;max-width:468pt;padding:72pt 72pt 72pt 72pt}.c1{font-size:13pt;font-family:"Raleway";font-weight:bold}.c0{orphans:2;widows:2;height:11pt}.c11{padding-bottom:11pt;line-height:1.3125;text-align:justify}.c9{color:inherit;text-decoration:inherit}.c6{font-size:12pt;font-family:"Cabin"}.c17{background-color:#cccccc;font-family:"Ubuntu Mono"}.c4{font-size:12pt;font-family:"Ubuntu"}.c5{orphans:2;widows:2}.c7{font-size:12pt;font-family:"Consolas"}.c8{background-color:#d9d9d9;font-family:"Ubuntu Mono"}.c22{font-size:13pt;font-family:"Raleway"}.c12{background-color:#f8f8f8;color:#222222}.c19{background-color:#999999;color:#ffffff}.c13{font-size:12pt;font-family:"Ubuntu Mono"}.c16{padding-top:10pt;page-break-after:avoid}.c20{background-color:#ffffff;color:#555555}.c15{color:#1155cc;text-decoration:underline}.c18{background-color:#d9d9d9}.c10{height:11pt}.title{padding-top:0pt;color:#000000;font-size:26pt;padding-bottom:3pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.subtitle{padding-top:0pt;color:#666666;font-size:15pt;padding-bottom:16pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}li{color:#000000;font-size:11pt;font-family:"Arial"}p{margin:0;color:#000000;font-size:11pt;font-family:"Arial"}h1{padding-top:20pt;color:#000000;font-size:20pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h2{padding-top:18pt;color:#000000;font-size:16pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h3{padding-top:16pt;color:#434343;font-size:14pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h4{padding-top:14pt;color:#666666;font-size:12pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h5{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h6{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;font-style:italic;orphans:2;widows:2;text-align:left}</style></head><body class="c21"><h2 class="c11 c5 c16" id="h.9hav7ebpv68i"><span class="c1">Getting Vagrant to Not Suck</span></h2><p class="c11 c5"><span class="c6">Vagrant is pretty dank. If you don&rsquo;t have it installed then you seriously need to reevaluate your life. </span><span class="c6 c15"><a class="c9" href="https://www.google.com/url?q=https://www.vagrantup.com/&amp;sa=D&amp;ust=1458154513804000&amp;usg=AFQjCNEt9Leqiq6JFb7p-taIYSUObemGDQ">Here&rsquo;s the download link.</a></span></p><p class="c11 c5"><span class="c6">Make sure you also have VirtualBox installed as well. </span><span class="c6 c15"><a class="c9" href="https://www.google.com/url?q=https://www.virtualbox.org/wiki/Downloads&amp;sa=D&amp;ust=1458154513804000&amp;usg=AFQjCNFAxuuK4YTNIdok8vYO1yNbkNo7GQ">Here&#39;s the download link.</a></span></p><p class="c5 c11"><span class="c6">So now here&rsquo;s what you do.</span></p><p class="c11 c5"><span class="c6">Make a project folder. Call it what you want. For the purposes of this I&rsquo;ll be calling it </span><span class="c4 c19">db_proj</span><span class="c4">.</span></p><p class="c11 c5"><span class="c4">cd into your project directory, and then do </span><span class="c4 c19">vagrant init</span><span class="c4">. At this point a Vagrantfile will be created in the directory. Open it, delete what&rsquo;s there, and paste the following into it.</span></p><p class="c3"><span class="c2"># -*- mode: ruby -*-</span></p><p class="c3"><span class="c2"># vi: set ft=ruby :</span></p><p class="c3 c10"><span class="c2"></span></p><p class="c3"><span class="c2">Vagrant.configure(2) do |config|</span></p><p class="c3 c10"><span class="c2"></span></p><p class="c3"><span class="c2">&nbsp; # Every Vagrant development environment requires a box. You can search for</span></p><p class="c3"><span class="c2">&nbsp; # boxes at https://atlas.hashicorp.com/search.</span></p><p class="c3"><span class="c2">&nbsp; config.vm.box = &quot;ubuntu/trusty64&quot;</span></p><p class="c3 c10"><span class="c2"></span></p><p class="c3"><span class="c2">&nbsp; # Create a private network, which allows host-only access to the machine</span></p><p class="c3"><span class="c2">&nbsp; # using a specific IP.</span></p><p class="c3"><span class="c2">&nbsp; config.vm.network &quot;private_network&quot;, ip: &quot;192.168.33.22&quot;</span></p><p class="c3 c10"><span class="c2"></span></p><p class="c3"><span class="c2">&nbsp; # Share an additional folder to the guest VM. The first argument is</span></p><p class="c3"><span class="c2">&nbsp; # the path on the host to the actual folder. The second argument is</span></p><p class="c3"><span class="c2">&nbsp; # the path on the guest to mount the folder. And the optional third</span></p><p class="c3"><span class="c2">&nbsp; # argument is a set of non-required options.</span></p><p class="c3"><span class="c2">&nbsp; config.vm.synced_folder &quot;./&quot;, &quot;/var/www/html&quot;</span></p><p class="c3 c10"><span class="c2"></span></p><p class="c3"><span class="c2">&nbsp; # Enable provisioning with a shell script. Additional provisioners such as</span></p><p class="c3"><span class="c2">&nbsp; # Puppet, Chef, Ansible, Salt, and Docker are also available. Please see the</span></p><p class="c3"><span class="c2">&nbsp; # documentation for more information about their specific syntax and use.</span></p><p class="c3"><span class="c2">&nbsp; config.vm.provision &quot;shell&quot;, inline: &lt;&lt;-SHELL</span></p><p class="c3"><span class="c2">&nbsp; &nbsp; sudo apt-get update -y</span></p><p class="c3"><span class="c2">&nbsp; &nbsp; sudo apt-get upgrade -y</span></p><p class="c3"><span class="c2">&nbsp; &nbsp; mkdir /var/www/html/apiary-test</span></p><p class="c3"><span class="c2">&nbsp; &nbsp; sudo apt-get install apache2 -y</span></p><p class="c3"><span class="c2">&nbsp; &nbsp; sudo apt-get install php5 -y</span></p><p class="c3 c10"><span class="c2"></span></p><p class="c3"><span class="c2">&nbsp; &nbsp; sudo debconf-set-selections &lt;&lt;&lt; &quot;mysql-server mysql-server/root_password password password&quot;</span></p><p class="c3"><span class="c2">&nbsp; &nbsp; sudo debconf-set-selections &lt;&lt;&lt; &quot;mysql-server mysql-server/root_password_again password password&quot;</span></p><p class="c3"><span class="c2">&nbsp; &nbsp; sudo apt-get -y install mysql-server</span></p><p class="c3"><span class="c2">&nbsp; &nbsp; sudo apt-get install php5-mysql</span></p><p class="c3 c10"><span class="c2"></span></p><p class="c3"><span class="c2">&nbsp; &nbsp; sudo debconf-set-selections &lt;&lt;&lt; &quot;phpmyadmin phpmyadmin/dbconfig-install boolean true&quot;</span></p><p class="c3"><span class="c2">&nbsp; &nbsp; sudo debconf-set-selections &lt;&lt;&lt; &quot;phpmyadmin phpmyadmin/app-password-confirm password password&quot;</span></p><p class="c3"><span class="c2">&nbsp; &nbsp; sudo debconf-set-selections &lt;&lt;&lt; &quot;phpmyadmin phpmyadmin/mysql/admin-pass password password&quot;</span></p><p class="c3"><span class="c2">&nbsp; &nbsp; sudo debconf-set-selections &lt;&lt;&lt; &quot;phpmyadmin phpmyadmin/mysql/app-pass password password&quot;</span></p><p class="c3"><span class="c2">&nbsp; &nbsp; sudo debconf-set-selections &lt;&lt;&lt; &quot;phpmyadmin phpmyadmin/reconfigure-webserver multiselect apache2&quot;</span></p><p class="c3"><span class="c2">&nbsp; &nbsp; sudo apt-get -y install phpmyadmin</span></p><p class="c3 c10"><span class="c2"></span></p><p class="c3"><span class="c2">&nbsp; &nbsp; VHOST=$(cat &lt;&lt;EOF</span></p><p class="c3"><span class="c2">&nbsp; &nbsp; &lt;VirtualHost *:80&gt;</span></p><p class="c3"><span class="c2">&nbsp; &nbsp; &nbsp; &nbsp; DocumentRoot &quot;/var/www/html/apiary-test&quot;</span></p><p class="c3"><span class="c2">&nbsp; &nbsp; &nbsp; &nbsp; &lt;Directory &quot;/var/www/html/apiary-test&quot;&gt;</span></p><p class="c3"><span class="c2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; AllowOverride All</span></p><p class="c3"><span class="c2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Require all granted</span></p><p class="c3"><span class="c2">&nbsp; &nbsp; &nbsp; &nbsp; &lt;/Directory&gt;</span></p><p class="c3"><span class="c2">&nbsp; &nbsp; &lt;/VirtualHost&gt;</span></p><p class="c3"><span class="c2">&nbsp; &nbsp; EOF</span></p><p class="c3"><span class="c2">&nbsp; &nbsp; )</span></p><p class="c3"><span class="c2">&nbsp; &nbsp; echo &quot;${VHOST}&quot; &gt; /etc/apache2/sites-available/000-default.conf</span></p><p class="c3 c10"><span class="c2"></span></p><p class="c3"><span class="c2">&nbsp; &nbsp; sudo a2enmod rewrite</span></p><p class="c3"><span class="c2">&nbsp; &nbsp; service apache2 restart</span></p><p class="c3"><span class="c2">&nbsp; &nbsp; sudo apt-get -y install git</span></p><p class="c3"><span class="c2">&nbsp; &nbsp; curl -s https://getcomposer.org/installer | php</span></p><p class="c3"><span class="c2">&nbsp; &nbsp; mv composer.phar /usr/local/bin/composer</span></p><p class="c3 c10"><span class="c2"></span></p><p class="c3"><span class="c2">&nbsp; SHELL</span></p><p class="c3"><span class="c2">end</span></p><p class="c0 c11"><span class="c4 c19"></span></p><p class="c11 c5"><span class="c4">Then type vagrant up, and you will have a slim box completely initialized.</span><span class="c1">&nbsp;</span><span class="c22">After that just </span><span class="c4 c12">Add </span><span class="c4 c20">192.168.56.103 zero-to-slim.dev</span><span class="c4 c12">&nbsp;to </span><span class="c4 c20">/etc/hosts</span><span class="c4 c12">&nbsp;on the host machine </span></p><p class="c5"><span class="c1">Setting up a sample database</span></p><p class="c0"><span class="c1"></span></p><p class="c5"><span class="c6">To query stuff from a database, we first need a database. Using </span><span class="c6 c15"><a class="c9" href="https://www.google.com/url?q=https://www.mockaroo.com/&amp;sa=D&amp;ust=1458154513820000&amp;usg=AFQjCNFinHFJsLdpwn-kTSAGuM2vdmI2iQ">Mockaroo</a></span><span class="c6">, I created a database solr_test which has a table &ldquo;Products&rdquo; containing 500 entries listed with a product_name (randomly selected from a list of drug names), and an id (36-digit hex GUID). You can find the SQL script I used </span><span class="c6 c15"><a class="c9" href="https://www.google.com/url?q=https://gist.github.com/dacoconuttman/5a901d8d4afa0b7a8201&amp;sa=D&amp;ust=1458154513821000&amp;usg=AFQjCNEQMlZGlL_CMCflI36mAmtDHdRriQ">here.</a></span><span class="c6">&nbsp;Save it to your shared folder between your host and Vagrant box. To use the script, provided you don&rsquo;t already have a solr_test database, simply run:</span></p><p class="c0"><span class="c7"></span></p><p class="c5"><span class="c7 c18">mysql -u root -p &lt; /vagrant/solr_products.sql</span></p><p class="c0"><span class="c7"></span></p><p class="c5"><span class="c6">Now we&rsquo;re ready to dive into creating the website.</span></p><p class="c0"><span class="c1"></span></p><p class="c5"><span class="c1">Setting up the website</span></p><p class="c0"><span></span></p><p class="c5"><span class="c6">For the actual autocomplete box, we&rsquo;re going to be using JQuery&rsquo;s autocomplete feature. It&rsquo;s going to pull a list of product names from our database using a PHP script. </span></p><p class="c0"><span class="c6"></span></p><p class="c5"><span class="c6">First things first, let&rsquo;s make the main page:</span></p><p class="c0"><span class="c6"></span></p><p class="c5"><span class="c8">&lt;!doctype html&gt;<br>&lt;html lang=&quot;en&quot;&gt;<br>&lt;head&gt;<br> &nbsp;&lt;meta charset=&quot;utf-8&quot;&gt;<br> &nbsp;&lt;title&gt;Demo&lt;/title&gt;<br>&lt;/head&gt;<br>&lt;body&gt; <br><br> &nbsp; &nbsp;&lt;form action=&#39;&#39; method=&#39;post&#39;&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp;&lt;p&gt;&lt;label&gt;Country:&lt;/label&gt;&lt;input type=&#39;text&#39; name=&#39;country&#39; value=&#39;&#39; class=&#39;auto&#39;&gt;&lt;/p&gt;<br> &nbsp; &nbsp;&lt;/form&gt;<br><br>&lt;script &nbsp; src=&quot;https://code.jquery.com/jquery-2.2.1.min.js&quot; &nbsp; integrity=&quot;sha256-gvQgAFzTH6trSrAWoH1iPo9Xc96QxSZ3feW6kem+O00=&quot; &nbsp; crossorigin=&quot;anonymous&quot;&gt;&lt;/script&gt;<br>&lt;script&gt;<br>$(function() {<br> &nbsp; &nbsp;<br> &nbsp; &nbsp;//autocomplete<br> &nbsp; &nbsp;$(&quot;.auto&quot;).autocomplete({<br> &nbsp; &nbsp; &nbsp; &nbsp;source: &quot;search.php&quot;,<br> &nbsp; &nbsp; &nbsp; &nbsp;minLength: 1<br> &nbsp; &nbsp;}); &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br><br>});<br>&lt;/script&gt;<br>&lt;/body&gt;<br>&lt;/html&gt;</span></p><p class="c0"><span class="c13"></span></p><p class="c5"><span class="c6">Now, we need the PHP script:</span></p><p class="c0"><span class="c6"></span></p><p class="c5"><span class="c8">&lt;?php</span></p><p class="c0"><span class="c8"></span></p><p class="c5"><span class="c8">if (isset($_GET[&#39;term&#39;])){</span></p><p class="c5"><span class="c8">$return_arr = array();</span></p><p class="c0"><span class="c8"></span></p><p class="c5"><span class="c8">try {</span></p><p class="c5"><span class="c8">//creates your database </span></p><p class="c5"><span class="c8">&nbsp; &nbsp; $db = new PDO(&#39;mysql:host=localhost;dbname=solr_products&#39;, &#39;root&#39;, &#39; &#39;);</span></p><p class="c5"><span class="c8">&nbsp; &nbsp; $conn-&gt;setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION);</span></p><p class="c0"><span class="c8"></span></p><p class="c5"><span class="c8">// This performs a like search and returns items that are alike</span></p><p class="c5"><span class="c8">&nbsp; &nbsp; $stmt = $conn-&gt;prepare(&#39;SELECT product FROM products WHERE product LIKE :term&#39;);</span></p><p class="c5"><span class="c8">&nbsp; &nbsp; $stmt-&gt;execute(array(&#39;term&#39; =&gt; &#39;%&#39;.$_GET[&#39;term&#39;].&#39;%&#39;));</span></p><p class="c0"><span class="c8"></span></p><p class="c5"><span class="c8">//returns your item </span></p><p class="c5"><span class="c8">&nbsp; &nbsp; while($row = $stmt-&gt;fetch()) {</span></p><p class="c5"><span class="c8">&nbsp; &nbsp; &nbsp; &nbsp; $return_arr[] = &nbsp;$row[&lsquo;product&rsquo;];</span></p><p class="c5"><span class="c8">&nbsp; &nbsp; }</span></p><p class="c0"><span class="c8"></span></p><p class="c5"><span class="c8">} catch(PDOException $e) {</span></p><p class="c5"><span class="c8">&nbsp; &nbsp; echo &#39;ERROR: &#39; . $e-&gt;getMessage();</span></p><p class="c5"><span class="c8">}</span></p><p class="c0"><span class="c8"></span></p><p class="c5"><span class="c8">&nbsp; &nbsp; echo json_encode($return_arr);</span></p><p class="c5"><span class="c8">}</span></p><p class="c5"><span class="c17">?&gt;</span></p><p class="c0"><span class="c6"></span></p><p class="c0"><span class="c6"></span></p><p class="c5"><span class="c6">After these files are created you should drag and drop them into the public folder that is your is in your vagrant folder/zero-to-slim folder. </span></p><p class="c0"><span class="c6"></span></p><p class="c5"><span class="c6">Now just run your main page on the web browser and you should be able to autocomplete words from your database. </span></p><p class="c0"><span class="c6"></span></p><p class="c0"><span class="c6"></span></p><p class="c0"><span class="c6"></span></p><p class="c5"><span class="c6">Works Cited:</span></p><p class="c5"><span class="c6 c15"><a class="c9" href="https://www.google.com/url?q=https://daveismyname.com/autocomplete-with-php-mysql-and-jquery-ui-bp&amp;sa=D&amp;ust=1458154513831000&amp;usg=AFQjCNHsoX0Er74DD_aIpbVPxjprIjEVxw">https://daveismyname.com/autocomplete-with-php-mysql-and-jquery-ui-bp</a></span><span class="c6">&nbsp;</span></p></body></html>
